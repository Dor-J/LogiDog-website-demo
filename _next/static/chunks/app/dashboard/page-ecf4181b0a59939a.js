(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1143:(e,s,l)=>{"use strict";l.d(s,{default:()=>f});var t=l(5155),n=l(2115);let i=e=>{let{onSearch:s}=e,[l,i]=(0,n.useState)("All"),[a,r]=(0,n.useState)("All"),[c,d]=(0,n.useState)(""),[x,o]=(0,n.useState)("");return(0,t.jsxs)("div",{className:"max-h-96 w-full max-w-xs space-y-3 rounded-lg bg-gray-800 p-4 text-white",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Filters"}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"riskLevel",className:"mb-1 text-sm font-medium",children:"Risk Level"}),(0,t.jsxs)("select",{id:"riskLevel",value:l,onChange:e=>i(e.target.value),className:"rounded border border-gray-600 bg-gray-700 px-2 py-1 text-sm",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"High"}),(0,t.jsx)("option",{children:"Medium"}),(0,t.jsx)("option",{children:"Low"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"mode",className:"mb-1 text-sm font-medium",children:"Mode"}),(0,t.jsxs)("select",{id:"mode",value:a,onChange:e=>r(e.target.value),className:"rounded border border-gray-600 bg-gray-700 px-2 py-1 text-sm",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"Sea"}),(0,t.jsx)("option",{children:"Air"}),(0,t.jsx)("option",{children:"Rail"}),(0,t.jsx)("option",{children:"Truck"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"origin",className:"mb-1 text-sm font-medium",children:"Origin"}),(0,t.jsx)("input",{id:"origin",type:"text",placeholder:"All",value:c,onChange:e=>d(e.target.value),className:"rounded border border-gray-600 bg-gray-700 px-2 py-1 text-sm"})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{htmlFor:"destination",className:"mb-1 text-sm font-medium",children:"Destination"}),(0,t.jsx)("input",{id:"destination",type:"text",placeholder:"All",value:x,onChange:e=>o(e.target.value),className:"rounded border border-gray-600 bg-gray-700 px-2 py-1 text-sm"})]}),(0,t.jsx)("button",{onClick:()=>s({riskLevel:l,mode:a,origin:c,destination:x}),className:"w-full rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Search"})]})},a={post:c,query:r};function r(e){var s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,t=JSON.parse(null!=(s=localStorage.getItem(e))?s:"[]");return new Promise(e=>{setTimeout(()=>e(t),l)})}async function c(e,s){let l={...s,_id:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,s="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<e;t++)s+=l.charAt(Math.floor(Math.random()*l.length));return s}()},t=await r(e);return t.push(l),d(e,t),l}function d(e,s){localStorage.setItem(e,JSON.stringify(s))}let x=e=>{let{shipments:s,onOpenModal:l}=e;return s.length?(0,t.jsx)("tbody",{className:"divide-y divide-blue-100",children:s.map(e=>(0,t.jsxs)("tr",{className:"group bg-white transition even:bg-blue-50/50 hover:bg-blue-50",children:[(0,t.jsx)("td",{className:"max-w-24 truncate px-3 py-3 font-mono text-xs text-gray-700",children:e._id}),(0,t.jsx)("td",{className:"px-3 py-3",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("span",{className:"rounded-md px-2 py-1 text-xs font-semibold shadow-sm ".concat("High"===e.riskLevel?"bg-red-500 text-white":"Medium"===e.riskLevel?"bg-amber-400 text-white":"Low"===e.riskLevel?"bg-green-500 text-white":"border border-gray-400 bg-gray-100 text-gray-700"),children:e.riskLevel})})}),(0,t.jsx)("td",{className:"hidden px-3 py-3 text-sm text-gray-700 sm:table-cell",children:e.currentStage}),(0,t.jsx)("td",{className:"hidden px-3 py-3 text-center text-xs text-gray-600 md:table-cell",children:e.originCountry}),(0,t.jsx)("td",{className:"hidden px-3 py-3 text-center text-xs text-gray-600 md:table-cell",children:e.destinationCountry}),(0,t.jsx)("td",{className:"hidden px-3 py-3 text-center text-xs text-gray-500 lg:table-cell",children:e.deliveryPlanned?function(e){if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"Invalid date";return s.toISOString().split("T")[0]}catch(e){return"Invalid date"}}(e.deliveryPlanned):"N/A"}),(0,t.jsx)("td",{className:"px-3 py-3",children:(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)("button",{onClick:()=>l(e),className:"rounded-lg bg-sky-500 px-3 py-2 font-medium text-white shadow transition-all hover:bg-sky-600 focus:ring-2 focus:ring-sky-300 focus:outline-none active:scale-95",children:"View"})})})]},e._id))}):(0,t.jsx)("tbody",{children:(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"rounded-b-xl bg-white py-8 text-center font-medium text-gray-400",children:"No shipments match the filter."})})})},o=function(e){let{ClassNameProp:s}=e;return(0,t.jsx)("div",{className:null!=s?s:"",children:(0,t.jsxs)("div",{className:"relative flex h-32 w-32 items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-blue-500/20 blur-xl"}),(0,t.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute inset-0 animate-spin rounded-xl bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-500 blur-sm"}),(0,t.jsxs)("div",{className:"absolute inset-1 flex items-center justify-center overflow-hidden rounded-lg bg-gray-900",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"h-12 w-1.5 animate-[bounce_1s_ease-in-out_infinite] rounded-full bg-cyan-500"}),(0,t.jsx)("div",{className:"h-12 w-1.5 animate-[bounce_1s_ease-in-out_infinite_0.1s] rounded-full bg-blue-500"}),(0,t.jsx)("div",{className:"h-12 w-1.5 animate-[bounce_1s_ease-in-out_infinite_0.2s] rounded-full bg-indigo-500"}),(0,t.jsx)("div",{className:"h-12 w-1.5 animate-[bounce_1s_ease-in-out_infinite_0.3s] rounded-full bg-purple-500"})]}),(0,t.jsx)("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-t from-transparent via-blue-500/10 to-transparent"})]})]}),(0,t.jsx)("div",{className:"absolute -top-1 -left-1 h-2 w-2 animate-ping rounded-full bg-blue-500"}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 h-2 w-2 animate-ping rounded-full bg-purple-500 delay-100"}),(0,t.jsx)("div",{className:"absolute -bottom-1 -left-1 h-2 w-2 animate-ping rounded-full bg-cyan-500 delay-200"}),(0,t.jsx)("div",{className:"absolute -right-1 -bottom-1 h-2 w-2 animate-ping rounded-full bg-blue-500 delay-300"})]})})},u=e=>{let{shipments:s,loading:l,onOpenModal:n}=e;return(0,t.jsxs)("section",{className:"mx-auto w-full max-w-4xl overflow-x-auto rounded-2xl border border-blue-100 bg-gradient-to-tr from-blue-50 to-white shadow-xl",children:[(0,t.jsx)("table",{className:"min-w-full table-fixed divide-y divide-gray-300 text-sm",children:(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{className:"bg-blue-100 text-xs tracking-wide text-blue-800 uppercase",children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"ID"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Risk"}),(0,t.jsx)("th",{className:"hidden px-3 py-2 text-left sm:table-cell",children:"Status"}),(0,t.jsx)("th",{className:"hidden px-3 py-2 text-left md:table-cell",children:"Origin"}),(0,t.jsx)("th",{className:"hidden px-3 py-2 text-left md:table-cell",children:"Destination"}),(0,t.jsx)("th",{className:"hidden px-3 py-2 text-left md:table-cell",children:"ETA"}),(0,t.jsx)("th",{className:"px-3 pr-2 text-center",children:"Details"})]})})}),(0,t.jsx)("table",{className:"min-w-full table-fixed divide-y divide-gray-300 text-sm",children:l?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(x,{shipments:s,onOpenModal:n})}),l?(0,t.jsx)(o,{ClassNameProp:"w-full h-4xl flex items-center justify-center "}):(0,t.jsx)(t.Fragment,{})]})},h=e=>{let{title:s,children:l}=e;return(0,t.jsxs)("section",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"mb-3 border-b border-blue-100 pb-1 text-lg font-semibold text-blue-900",children:s}),(0,t.jsx)("ul",{className:"space-y-2",children:l})]})},m=e=>{var s,l,n,i,a,r,c,d,x,o,u,m,j,p,f,b,g,y,N,v,w;let{shipment:C}=e;return(0,t.jsxs)("article",{className:"mx-auto mt-8 max-w-xl space-y-6 rounded-2xl border border-blue-100 bg-white p-6 shadow-xl",children:[(0,t.jsx)("h2",{className:"mb-2 text-center text-2xl font-bold text-blue-800",children:"Shipment Details"}),(0,t.jsxs)(h,{title:"General",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Shipment ID"}),(0,t.jsx)("span",{className:"font-mono",children:C._id})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Buyer ID"}),(0,t.jsx)("span",{children:C.buyerId})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Seller ID"}),(0,t.jsx)("span",{children:C.sellerId})]})]}),(0,t.jsxs)(h,{title:"Geography",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Origin Country"}),(0,t.jsx)("span",{children:C.originCountry})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Origin Port"}),(0,t.jsx)("span",{children:null!=(l=C.originPort)?l:"Unknown"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Destination Country"}),(0,t.jsx)("span",{children:C.destinationCountry})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Destination Port"}),(0,t.jsx)("span",{children:C.destinationPort})]})]}),(0,t.jsxs)(h,{title:"Logistics",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Transportation mode"}),(0,t.jsx)("span",{children:C.mode})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Product IDs"}),(0,t.jsx)("span",{children:C.productIds.join(", ")})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Carrier"}),(0,t.jsx)("span",{children:C.carrier})]})]}),(0,t.jsxs)(h,{title:"Timeline",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Purchase Date"})," ",(0,t.jsx)("span",{children:null!=(n=C.purchaseDate)?n:"Undefined"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Dispatch - Planned"})," ",(0,t.jsx)("span",{children:null!=(i=C.dispatchPlanned)?i:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Dispatch - Actual"})," ",(0,t.jsx)("span",{children:null!=(a=C.dispatchActual)?a:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival Country - Planned"})," ",(0,t.jsx)("span",{children:null!=(r=C.arrivalCountryPlanned)?r:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival Country - Actual"})," ",(0,t.jsx)("span",{children:null!=(c=C.arrivalCountryActual)?c:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Customs Arrival - Planned"})," ",(0,t.jsx)("span",{children:null!=(d=C.customsArrivalPlanned)?d:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Customs Arrival - Actual"})," ",(0,t.jsx)("span",{children:null!=(x=C.customsArrivalActual)?x:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Customs Detain Timestamp"})," ",(0,t.jsx)("span",{children:null!=(o=C.customsDetainTimestamp)?o:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Customs Clear - Planned"})," ",(0,t.jsx)("span",{children:null!=(u=C.customsClearPlanned)?u:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Customs Clear - Actual"})," ",(0,t.jsx)("span",{children:null!=(m=C.customsClearActual)?m:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival Logistic Center - Planned"})," ",(0,t.jsx)("span",{children:null!=(j=C.toLogisticCenterPlanned)?j:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival Logistic Center - Actual"})," ",(0,t.jsx)("span",{children:null!=(p=C.toLogisticCenterActual)?p:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival to Consumer - Planned"})," ",(0,t.jsx)("span",{children:null!=(f=C.toConsumerPlanned)?f:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Arrival to Consumer - Actual"})," ",(0,t.jsx)("span",{children:null!=(b=C.toConsumerActual)?b:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Delivery - Planned"})," ",(0,t.jsx)("span",{children:null!=(g=C.deliveryPlanned)?g:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Delivery - Actual"})," ",(0,t.jsx)("span",{children:null!=(y=C.deliveryActual)?y:"?"})]})]}),(0,t.jsxs)(h,{title:"ETA & Revisions",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"ETA Destination Country"}),(0,t.jsx)("span",{children:null!=(N=C.etaDestinationCountry)?N:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"ETA Revisions"}),(0,t.jsx)("span",{children:null!=(v=null==C||null==(s=C.etaRevisions)?void 0:s.join(", "))?v:"?"})]}),(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Current Stage"}),(0,t.jsx)("span",{children:C.currentStage})]})]}),(0,t.jsxs)(h,{title:"Risk Assessment",children:[(0,t.jsxs)("li",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Risk Level"}),(0,t.jsx)("span",{children:null!=(w=C.riskLevel)?w:"?"})]}),(0,t.jsxs)("li",{className:"flex flex-col",children:[(0,t.jsx)("span",{children:"External Context"}),(0,t.jsx)("pre",{className:"mt-2 overflow-x-auto rounded-lg bg-blue-50 p-2 text-xs",children:JSON.stringify(C.externalContext,null,2)})]})]})]})};function j(e){let{onClose:s,shipment:l}=e;return(0,t.jsx)("section",{className:"bg-opacity-50 fixed inset-0 z-50 flex max-h-dvh items-center justify-center bg-sky-900",onClick:s,children:(0,t.jsxs)("div",{className:"max-h-[80vh] w-full max-w-lg overflow-y-auto rounded bg-white p-6",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:s,className:"float-right text-lg font-bold",children:"\xd7"}),(0,t.jsx)(m,{shipment:l})]})})}let p="shipments",f=function(){let[e,s]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[c,d]=(0,n.useState)(null),[x,o]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{let e=await a.query(p);if(!e.length){let s=await fetch("/assets/data/shipments.json");for(let e of(await s.json()))await a.post(p,e);e=await a.query(p)}s(e),r(e),o(!1)})()},[]),(0,t.jsx)("main",{className:"flex w-full flex-col items-center",children:(0,t.jsxs)("section",{className:"flex w-full flex-col items-center justify-center gap-6 px-4 lg:max-w-7xl lg:flex-row lg:items-start",children:[(0,t.jsx)(i,{onSearch:s=>{r(e.filter(e=>{var l;let t="All"===s.riskLevel||(null!=(l=e.riskLevel)?l:"None")===s.riskLevel,n="All"===s.mode||e.mode.toLowerCase()===s.mode.toLowerCase(),i=!s.origin||e.originCountry.toLowerCase().includes(s.origin.toLowerCase()),a=!s.destination||e.destinationCountry.toLowerCase().includes(s.destination.toLowerCase());return t&&n&&i&&a}))}}),(0,t.jsx)(u,{shipments:l,loading:x,onOpenModal:e=>{d(e)}}),c&&(0,t.jsx)(j,{shipment:c,onClose:()=>{d(null)}})]})})}},8407:(e,s,l)=>{Promise.resolve().then(l.bind(l,1143))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(8407)),_N_E=e.O()}]);